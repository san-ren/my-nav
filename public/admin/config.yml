backend:
  name: github
  repo: san-ren/my-nav
  branch: main
  auth_type: token

media_folder: "public/images"
public_folder: "/images"

collections:
  # 1. 网站全局设置 (独立文件)
  - name: "site_settings"
    label: "网站基础配置"
    delete: false
    files:
      - name: "config"
        label: "站点信息"
        file: "src/data/config.json"
        fields:
          - { label: "网站标题", name: "title", widget: "string" }
          - { label: "GitHub 用户名", name: "githubUser", widget: "string" }
          - { label: "GitHub 仓库名", name: "githubRepo", widget: "string" }
          - { label: "页脚作者名", name: "author", widget: "string" }

  # 2. 导航页面管理 (文件夹模式：左侧会出现页面列表)
  - name: "nav_pages"
    label: "导航页面管理"
    folder: "src/data/nav" # 扫描这个文件夹下的所有json
    extension: "json"
    format: "json"
    create: true # 允许在后台直接新建页面
    identifier_field: "name"
    summary: "页面：{{name}}"
    fields:
      - { label: "页面ID(路由名称)", name: "id", widget: "string", hint: "例如 home 或 sub1" }
      - { label: "侧边栏名称", name: "name", widget: "string" }
      - { label: "侧边栏图标", name: "icon", widget: "string", hint: "Lucide图标名，如 Star" }
      - label: "内部分类"
        name: "categories"
        widget: "list"
        collapsed: true
        summary: "分类：{{name}}"
        fields:
          - { label: "分类名称", name: "name", widget: "string" }
          - { label: "分类图标", name: "icon", widget: "string" }
          - label: "标签页(Tabs)"
            name: "tabs"
            widget: "list"
            collapsed: true
            summary: "页签：{{tabName}}"
            fields:
              - { label: "页签名称", name: "tabName", widget: "string" }
              - label: "网址列表"
                name: "list"
                widget: "list"
                collapsed: true
                summary: "{{name}}"
                fields:
                  - { label: "名称", name: "name", widget: "string" }
                  - { label: "链接", name: "url", widget: "string" }
                  - { label: "简短描述", name: "desc", widget: "string" }
                  # --- 重点：这里改为 markdown 插件，支持分屏预览 ---
                  - { label: "详细说明", name: "detail", widget: "markdown", buttons: ["bold", "italic", "link", "bulleted-list"], editor_components: [] }