backend:
  name: github
  repo: san-ren/my-nav
  branch: main
  # å»ºè®®ï¼šæœ¬åœ°å¼€å‘æ—¶å¼€å¯ local_backend å¯ä»¥ç›´æ¥ä¿®æ”¹æœ¬åœ°æ–‡ä»¶ï¼Œä¸ç”¨æ¯æ¬¡éƒ½æäº¤åˆ° GitHub
  # éƒ¨ç½²ä¸Šçº¿æ—¶ Decap/Sveltia ä¼šè‡ªåŠ¨å¿½ç•¥è¿™ä¸ªé…ç½®
  local_backend: true 

commit_messages:
  create: 'åˆ›å»º {{collection}} â€œ{{slug}}â€'
  update: 'æ›´æ–° {{collection}} â€œ{{slug}}â€'
  delete: 'åˆ é™¤ {{collection}} â€œ{{slug}}â€'
  uploadMedia: 'ä¸Šä¼ èµ„æº â€œ{{path}}â€'
  deleteMedia: 'åˆ é™¤èµ„æº â€œ{{path}}â€'

locale: 'zh_Hans'
media_folder: "public/images"
public_folder: "/images"

slug:
  encoding: "ascii"
  clean_accents: true

collections:
  # ============================================================
  # 1. ç½‘ç«™å…¨å±€è®¾ç½®
  # ============================================================
  - name: "site_settings"
    label: "âš™ï¸ ç½‘ç«™åŸºç¡€é…ç½®"
    delete: false
    editor:
      preview: false
    files:
      - name: "config"
        label: "ç«™ç‚¹ä¿¡æ¯"
        file: "src/data/config.json"
        fields:
          - { label: "ç½‘ç«™æ ‡é¢˜", name: "title", widget: "string", required: false }
          - { label: "GitHub ç”¨æˆ·å", name: "githubUser", widget: "string", required: false }
          - { label: "GitHub ä»“åº“å", name: "githubRepo", widget: "string", required: false }
          - { label: "é¡µè„šä½œè€…å", name: "author", widget: "string", required: false }

  # ============================================================
  # 2. é¡µé¢å…ƒæ•°æ® (meta.json)
  # ============================================================
  - name: "nav_pages_meta"
    label: "ğŸ“„ é¡µé¢å±æ€§ç®¡ç†"
    folder: "src/data/nav"
    path: "{{id}}/meta"
    extension: "json"
    format: "json"
    create: true
    identifier_field: "name"
    summary: "é¡µé¢ï¼š{{name}} (ID: {{id}}) - æƒé‡ {{sortOrder}}"
    sortable_fields: ["sortOrder", "name"]
    editor:
      preview: false
    fields:
      - { label: "é¡µé¢ID (æ–‡ä»¶å¤¹å)", name: "id", widget: "string", required: true, pattern: ['^[a-zA-Z0-9-_]+$', "åªèƒ½åŒ…å«å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿"], hint: "ä¾‹å¦‚ home, sub1" }
      - { label: "ä¾§è¾¹æ æ˜¾ç¤ºåç§°", name: "name", widget: "string", required: true }
      - { label: "ä¾§è¾¹æ å›¾æ ‡", name: "icon", widget: "string", required: false, hint: "Lucideå›¾æ ‡å" }
      - { label: "æ’åºæƒé‡", name: "sortOrder", widget: "number", default: 10, value_type: "int" }

  # ============================================================
  # 3. [è§†å›¾ A] åˆ†ç»„å†…å®¹ - å½’æ¡£è§†å›¾ (é»˜è®¤æ¨è)
  # ============================================================
  - name: "nav_groups"
    label: "ğŸ“¦ å†…å®¹åˆ†ç»„ (å½’æ¡£è§†å›¾)"
    folder: "src/data/nav"
    path: "{{page}}/groups/{{slug}}"
    media_folder: ""
    public_folder: ""
    extension: "json"
    format: "json"
    create: true
    identifier_field: "name"
    summary: "{{name}}"
    view_groups:
      - label: "æŒ‰æ‰€å±é¡µé¢å½’æ¡£"
        field: "page"
        pattern: ".*"
    editor:
      preview: false
    fields: &group_fields
      - { label: "æ‰€å±é¡µé¢ID", name: "page", widget: "string", required: true, default: "home", hint: "âš ï¸ å¿…å¡«ï¼šhome æˆ– sub1ï¼Œå†³å®šå½’æ¡£ä½ç½®" }
      - { label: "åˆ†ç»„åç§° (é”šç‚¹)", name: "name", widget: "string", required: true }
      - { label: "åˆ†ç»„å›¾æ ‡", name: "icon", widget: "string", required: false }
      
      # --- å†…éƒ¨åˆ†ç±» ---
      - label: "å†…éƒ¨åˆ†ç±»"
        name: "categories"
        widget: "list"
        collapsed: false
        summary: "ğŸ“‘ åˆ†ç±»ï¼š{{name}}"
        fields:
          - { label: "åˆ†ç±»åç§°", name: "name", widget: "string", required: true }
          - { label: "åˆ†ç±»å›¾æ ‡", name: "icon", widget: "string", required: false }
          
          # --- æ¨¡å¼ Aï¼šæ— Tabs ---
          - label: "ğŸ”— èµ„æºåˆ—è¡¨ (ç›´å±)"
            name: "list"
            widget: "list"
            required: false
            collapsed: true
            summary: "{{name}}"
            fields: &site_fields  # ã€å®šä¹‰é”šç‚¹ã€‘
              - { label: "åç§°", name: "name", widget: "string", required: true }
              - { label: "é“¾æ¥åœ°å€", name: "url", widget: "string", required: false }
              - { label: "å®˜ç½‘/é¡¹ç›®ä¸»é¡µ", name: "official_site", widget: "string", required: false }
              - label: "GitHub å¾½ç« "
                name: "badge_list"
                widget: "select"
                multiple: true
                required: false
                options: ["stars", "version", "last_commit", "license"]
              - { label: "ç®€çŸ­æè¿°", name: "desc", widget: "string", required: false }
              - { label: "è¯¦ç»†è¯´æ˜", name: "detail", widget: "markdown", required: false, buttons: ["bold", "italic", "link", "code"], editor_components: [] }
              - { label: "å…³è”æ•™ç¨‹ID", name: "guide_id", widget: "string", required: false }
              - { label: "è‡ªå®šä¹‰å›¾æ ‡ URL", name: "icon", widget: "image", required: false }
              - { label: "å°å·¥å…·è·¯å¾„", name: "widget_url", widget: "string", required: false }

          # --- æ¨¡å¼ Bï¼šæœ‰Tabs ---
          - label: "ğŸ—ƒï¸ æ ‡ç­¾é¡µ (Tabsæ¨¡å¼)"
            name: "tabs"
            widget: "list"
            required: false
            collapsed: true
            summary: "Tabï¼š{{tabName}}"
            fields:
              - { label: "é¡µç­¾åç§°", name: "tabName", widget: "string", required: true }
              - label: "èµ„æºåˆ—è¡¨"
                name: "list"
                widget: "list"
                collapsed: true
                required: false
                fields: *site_fields  # å¼•ç”¨ä¸Šé¢çš„å®šä¹‰

  # ============================================================
  # 4. [è§†å›¾ B] åˆ†ç»„å†…å®¹ - æ–‡ä»¶å¤¹è§†å›¾ (Nested æ¨¡å¼)
  # ============================================================
  - name: "nav_structure"
    label: "ğŸ“‚ å†…å®¹åˆ†ç»„ (æ–‡ä»¶å¤¹è§†å›¾)"
    folder: "src/data/nav"
    nested:
      depth: 4
      summary: "{{name}}"
    media_folder: ""
    public_folder: ""
    extension: "json"
    format: "json"
    create: true
    identifier_field: "name"
    editor:
      preview: false
    filter:
      field: "page"
      pattern: ".+"
    fields: *group_fields # å¼•ç”¨ä¸Šé¢ nav_groups çš„å­—æ®µå®šä¹‰

  # ============================================================
  # 5. æ•™ç¨‹æ–‡ç« ç®¡ç†
  # ============================================================
  - name: "guides"
    label: "ğŸ“š æ•™ç¨‹æ–‡ç« ç®¡ç†"
    folder: "src/content/guides"
    extension: "md"
    create: true
    slug: "{{slug}}"
    identifier_field: "title"
    summary: "{{title}} - {{date | date('YYYY-MM-DD')}}"
    fields:
      - { label: "æ–‡ç« æ ‡é¢˜", name: "title", widget: "string", required: true }
      - { label: "å‘å¸ƒæ—¥æœŸ", name: "date", widget: "datetime", format: "YYYY-MM-DD", date_format: "YYYY-MM-DD", time_format: false, required: false }
      - { label: "æ–‡ç« å†…å®¹", name: "body", widget: "markdown", required: true }