backend:
  name: github
  repo: san-ren/my-nav
  branch: main
  auth_type: token

media_folder: "public/images"
public_folder: "/images"

collections:
  # 1. 网站全局设置
  - name: "site_settings"
    label: "网站基础配置"
    delete: false
    files:
      - name: "config"
        label: "站点信息"
        file: "src/data/config.json"
        fields:
          - { label: "网站标题", name: "title", widget: "string" }
          - { label: "GitHub 用户名", name: "githubUser", widget: "string" }
          - { label: "GitHub 仓库名", name: "githubRepo", widget: "string" }
          - { label: "页脚作者名", name: "author", widget: "string" }

  # 2. 导航页面管理
  - name: "nav_pages"
    label: "导航页面管理"
    folder: "src/data/nav"
    extension: "json"
    format: "json"
    create: true
    identifier_field: "name"
    summary: "{{sortOrder}} - {{name}}"
    sortable_fields: ["sortOrder", "name", "id"]
    fields:
      - { label: "排序权重(越小越靠前)", name: "sortOrder", widget: "number", default: 10, value_type: "int" }
      - { label: "页面ID(路由名称)", name: "id", widget: "string", hint: "例如 home 或 sub1" }
      - { label: "侧边栏名称", name: "name", widget: "string" }
      - { label: "侧边栏图标", name: "icon", widget: "string", hint: "Lucide图标名" }
      
      # --- 新增：分组层级 ---
      - label: "内容分组(页内锚点)"
        name: "groups"
        widget: "list"
        collapsed: true
        summary: "分组：{{name}}"
        fields:
          - { label: "分组名称", name: "name", widget: "string", hint: "侧边栏显示的锚点标题" }
          - { label: "分组图标", name: "icon", widget: "string", required: false }
          
          # --- 原来的 categories 缩进到这里 ---
          - label: "内部分类"
            name: "categories"
            widget: "list"
            collapsed: true
            summary: "分类：{{name}}"
            fields:
              - { label: "分类名称", name: "name", widget: "string" }
              - { label: "分类图标", name: "icon", widget: "string" }
              
              - label: "标签页(Tabs)"
                name: "tabs"
                widget: "list"
                collapsed: true
                summary: "页签：{{tabName}}"
                fields:
                  - { label: "页签名称", name: "tabName", widget: "string" }
                  
                  - label: "网址列表"
                    name: "list"
                    widget: "list"
                    collapsed: true
                    summary: "{{name}}"
                    fields:
                      - { label: "名称", name: "name", widget: "string" }
                      - { label: "链接地址", name: "url", widget: "string" }
                      - label: "官网/项目主页 (可选)"
                        name: "official_site"
                        widget: "string"
                        required: false
                      - { label: "简短描述", name: "desc", widget: "string" }
                      - label: "GitHub 自动徽章"
                        name: "badge_list"
                        widget: "select"
                        multiple: true
                        required: false
                        options:
                          - { label: "GitHub Stars", value: "stars" }
                          - { label: "最新版本", value: "version" }
                          - { label: "开源协议", value: "license" }
                          - { label: "最近更新", value: "last_commit" }
                      - label: "详细说明"
                        name: "detail"
                        widget: "markdown"
                        buttons: ["bold", "italic", "link", "bulleted-list"]
                        editor_components: []