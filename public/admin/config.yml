backend:
  name: github
  repo: san-ren/my-nav
  branch: main
  auth_type: token
  
  commit_messages:
    create: 'åˆ›å»º {{collection}} â€œ{{slug}}â€'
    update: 'æ›´æ–° {{collection}} â€œ{{slug}}â€'
    delete: 'åˆ é™¤ {{collection}} â€œ{{slug}}â€'
    uploadMedia: 'ä¸Šä¼ èµ„æº â€œ{{path}}â€'
    deleteMedia: 'åˆ é™¤èµ„æº â€œ{{path}}â€'

locale: 'zh_Hans'
media_folder: "public/images"
public_folder: "/images"

slug:
  encoding: "ascii"
  clean_accents: true

collections:
  # ============================================================
  # 1. ç½‘ç«™å…¨å±€è®¾ç½®
  # ============================================================
  - name: "site_settings"
    label: "âš™ï¸ ç½‘ç«™åŸºç¡€é…ç½®"
    delete: false
    editor:
      preview: false
    files:
      - name: "config"
        label: "ç«™ç‚¹ä¿¡æ¯"
        file: "src/data/config.json"
        fields:
          - { label: "ç½‘ç«™æ ‡é¢˜", name: "title", widget: "string", required: false }
          - { label: "GitHub ç”¨æˆ·å", name: "githubUser", widget: "string", required: false }
          - { label: "GitHub ä»“åº“å", name: "githubRepo", widget: "string", required: false }
          - { label: "é¡µè„šä½œè€…å", name: "author", widget: "string", required: false }

  # ============================================================
  # 2. é¡µé¢å…ƒæ•°æ®ç®¡ç† (å¯¹åº”æ¯ä¸ªé¡µé¢æ–‡ä»¶å¤¹ä¸‹çš„ meta.json)
  #    ç”¨äºç®¡ç†ä¾§è¾¹æ çš„ä¸€çº§èœå•ã€å›¾æ ‡å’Œé¡ºåº
  # ============================================================
  - name: "nav_pages_meta"
    label: "ğŸ“„ é¡µé¢ç®¡ç† (æ·»åŠ /æ’åº)"
    folder: "src/data/nav"
    # åŒ¹é…è§„åˆ™: src/data/nav/{id}/meta.json
    path: "{{id}}/meta"
    extension: "json"
    format: "json"
    create: true
    identifier_field: "name"
    summary: "é¡µé¢ï¼š{{name}} (ID: {{id}}) - æƒé‡ {{sortOrder}}"
    sortable_fields: ["sortOrder", "name"]
    editor:
      preview: false
    fields:
      - { label: "é¡µé¢ID (æ–‡ä»¶å¤¹å)", name: "id", widget: "string", required: true, pattern: ['^[a-zA-Z0-9-_]+$', "åªèƒ½åŒ…å«å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿"], hint: "ä¾‹å¦‚ home, sub1" }
      - { label: "ä¾§è¾¹æ æ˜¾ç¤ºåç§°", name: "name", widget: "string", required: true }
      - { label: "ä¾§è¾¹æ å›¾æ ‡", name: "icon", widget: "string", required: false, hint: "Lucideå›¾æ ‡åï¼Œå¦‚ Star, Hammer" }
      - { label: "æ’åºæƒé‡", name: "sortOrder", widget: "number", default: 10, value_type: "int" }

  # ============================================================
  # 3. åˆ†ç»„å†…å®¹ç®¡ç† (å¯¹åº” groups/*.json)
  #    è¿™æ˜¯æœ€ä¸»è¦çš„å†…å®¹ç¼–è¾‘åŒºåŸŸ
  # ============================================================
  - name: "nav_groups"
    label: "ğŸ“¦ åˆ†ç»„å†…å®¹ç®¡ç†"
    folder: "src/data/nav"
    # æ ¸å¿ƒé…ç½®ï¼šåŒ¹é…ä»»æ„é¡µé¢ä¸‹çš„ groups æ–‡ä»¶å¤¹
    # ç»“æ„: src/data/nav/{page}/groups/{slug}.json
    path: "{{page}}/groups/{{slug}}"
    media_folder: "" # å›¾ç‰‡ç›¸å¯¹è·¯å¾„å­˜å‚¨
    public_folder: ""
    extension: "json"
    format: "json"
    create: true
    identifier_field: "name"
    summary: "æ‰€å±é¡µé¢: {{page}} | åˆ†ç»„: {{name}}"
    editor:
      preview: false
    fields:
      # âš ï¸ å…³é”®å­—æ®µï¼šç”¨äºæŒ‡å®šæ–‡ä»¶ä¿å­˜åœ¨å“ªä¸ªé¡µé¢çš„æ–‡ä»¶å¤¹ä¸‹
      - { label: "æ‰€å±é¡µé¢ID", name: "page", widget: "string", required: true, default: "home", hint: "å¿…å¡«ï¼šå¡«å†™é¡µé¢ID (å¦‚ home)ï¼Œå†³å®šä¿å­˜ä½ç½®" }
      
      - { label: "åˆ†ç»„åç§° (é”šç‚¹)", name: "name", widget: "string", required: true }
      - { label: "åˆ†ç»„å›¾æ ‡", name: "icon", widget: "string", required: false }
      
      # --- å†…éƒ¨åˆ†ç±» (Categories) ---
      - label: "å†…éƒ¨åˆ†ç±»"
        name: "categories"
        widget: "list"
        collapsed: false
        summary: "ğŸ“‘ åˆ†ç±»ï¼š{{name}}"
        fields:
          - { label: "åˆ†ç±»åç§°", name: "name", widget: "string", required: true }
          - { label: "åˆ†ç±»å›¾æ ‡", name: "icon", widget: "string", required: false }

          # --- å®šä¹‰å¡ç‰‡å­—æ®µæ¨¡æ¿ (ä»¥ä¾¿å¤ç”¨) ---
          # 1. æ¨¡å¼ Aï¼šæ— Tabsï¼Œç›´æ¥æ˜¾ç¤ºåˆ—è¡¨
          - label: "ğŸ”— èµ„æºåˆ—è¡¨ (ç›´å±)"
            name: "list"
            widget: "list"
            required: false
            collapsed: true
            summary: "{{name}}"
            fields: &site_fields
              - { label: "åç§°", name: "name", widget: "string", required: true }
              - { label: "é“¾æ¥åœ°å€", name: "url", widget: "string", required: false }
              - { label: "ç®€çŸ­æè¿°", name: "desc", widget: "string", required: false }
              - { label: "è¯¦ç»†è¯´æ˜ (Markdown)", name: "detail", widget: "markdown", required: false, buttons: ["bold", "italic", "link", "code"], editor_components: [] }
              - { label: "è‡ªå®šä¹‰å›¾æ ‡ URL", name: "icon", widget: "image", required: false, hint: "æœ¬åœ°å·¥å…·å»ºè®®æ‰‹åŠ¨ä¸Šä¼ å›¾æ ‡" }
              - { label: "å°å·¥å…·æ–‡ä»¶è·¯å¾„", name: "widget_url", widget: "string", required: false, hint: "ä¾‹å¦‚ /tools/clock.htmlï¼Œå¡«å†™åå¡ç‰‡å°†å˜èº«ä¸ºå°å·¥å…·" }
              - { label: "å®˜ç½‘/é¡¹ç›®ä¸»é¡µ", name: "official_site", widget: "string", required: false }
              - label: "GitHub å¾½ç« "
                name: "badge_list"
                widget: "select"
                multiple: true
                required: false
                options:
                  - { label: "Stars æ•°", value: "stars" }
                  - { label: "æœ€æ–°ç‰ˆæœ¬", value: "version" }
                  - { label: "å¼€æºåè®®", value: "license" }
                  - { label: "æœ€è¿‘æ›´æ–°", value: "last_commit" }
              - { label: "å…³è”æ•™ç¨‹ID", name: "guide_id", widget: "string", required: false }

          # 2. æ¨¡å¼ Bï¼šæœ‰Tabs
          - label: "ğŸ—ƒï¸ æ ‡ç­¾é¡µ (Tabsæ¨¡å¼)"
            name: "tabs"
            widget: "list"
            required: false
            collapsed: true
            summary: "Tabï¼š{{tabName}}" 
            fields:
              - { label: "é¡µç­¾åç§°", name: "tabName", widget: "string", required: true } 
              - label: "èµ„æºåˆ—è¡¨"
                name: "list"
                widget: "list"
                collapsed: true
                required: false
                fields: *site_fields # å¤ç”¨ä¸Šé¢çš„å­—æ®µç»“æ„

  # ============================================================
  # 4. æ•™ç¨‹æ–‡ç« ç®¡ç†
  # ============================================================
  - name: "guides"
    label: "ğŸ“š æ•™ç¨‹æ–‡ç« ç®¡ç†"
    folder: "src/content/guides"
    extension: "md"
    create: true
    slug: "{{slug}}"
    identifier_field: "title"
    summary: "{{title}} - {{date | date('YYYY-MM-DD')}}"
    fields:
      - { label: "æ–‡ç« æ ‡é¢˜", name: "title", widget: "string", required: true }
      - { label: "å‘å¸ƒæ—¥æœŸ", name: "date", widget: "datetime", format: "YYYY-MM-DD", date_format: "YYYY-MM-DD", time_format: false, required: false }
      - { label: "æ–‡ç« å†…å®¹", name: "body", widget: "markdown", required: true }