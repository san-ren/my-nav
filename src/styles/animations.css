/* ======================================================
   全局动画库
   使用方法：在元素上添加对应的类名，如 class="anim-fade-up"
   ====================================================== */

/* 1. 基础淡入上浮 */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.anim-fade-up {
  animation: fadeInUp 0.6s ease-out forwards;
}

/* 2. 缩放弹跳效果 (适合图标) */
@keyframes popIn {
  0% { transform: scale(0.5); opacity: 0; }
  70% { transform: scale(1.1); opacity: 1; }
  100% { transform: scale(1); opacity: 1; }
}

.anim-pop {
  animation: popIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
}

/* 3. 悬浮轻微摆动 (适合卡片 Hover) */
@keyframes float {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-5px); }
}

.anim-float:hover {
  animation: float 3s ease-in-out infinite;
}

/* 延迟工具类 (辅助类) */
.delay-100 { animation-delay: 100ms; }
.delay-200 { animation-delay: 200ms; }
.delay-300 { animation-delay: 300ms; }



/* ======================================================
   Portal 浮窗高级增强 (Progressive Enhancement)
   ====================================================== */

/* 
   如果没有这个文件，浮窗会使用 SiteCard.astro 里定义的 duration-200 ease-out。
   如果加载了这个文件，下面的规则会覆盖默认设置，实现“生长”质感。
*/
.portal-popup {
  /* 
     1. 覆盖时长：让动画稍微慢一点 (300ms)，显得更从容。
     2. 覆盖曲线：使用 Ease-Out-Quint (启动快，收尾极慢)，产生“生长”的物理感。
     !important 确保覆盖 Tailwind 的原子类
  */
  transition-duration: 300ms !important;
  transition-timing-function: cubic-bezier(0.23, 1, 0.32, 1) !important;
  
  /* 
     如果你想让它弹得更夸张（果冻效果），可以用这个贝塞尔曲线：
     transition-timing-function: cubic-bezier(0.68, -0.55, 0.265, 1.55) !important; 
  */
}

/* 
   如果你想修改初始/结束的缩放比例（比如默认是 scale-95，你想改成 scale-90）
   可以利用 CSS 选择器特指度来覆盖，或者配合 JS 的类名修改。
   目前保持 SiteCard 里的 scale-95 (0.95倍) 到 scale-100 (1倍) 已经很优雅了。
*/


/* ======================================================
   页面路由切换动画增强 (View Transitions API)
   ====================================================== */

/* 1. 取消全局 root 的默认动画。
   这样侧边栏和背景元素在切换时会瞬间无缝替换，不会闪烁，且能正确更新高亮状态。 */
::view-transition-old(root),
::view-transition-new(root) {
  animation: none !important;
  mix-blend-mode: normal;
}

/* 2. 将酷炫的滑动淡入淡出动画，精准应用到我们刚刚命名的主内容区域 */
::view-transition-old(main-content) {
  animation: page-fade-out 0.3s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

::view-transition-new(main-content) {
  animation: page-fade-in 0.4s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

@keyframes page-fade-out {
  from { opacity: 1; transform: translateY(0) scale(1); }
  to { opacity: 0; transform: translateY(-10px) scale(0.98); }
}

@keyframes page-fade-in {
  from { opacity: 0; transform: translateY(15px); }
  to { opacity: 1; transform: translateY(0); }
}